%!TEX root=ast2016.tex

\section{Empirical Study}
\label{sec:empirical-study}

\subsection{Experimental Setup}

\input{tables/schemas.tex}

\begin{itemize}
  \item 32 schemas
    \begin{itemize}
      \item 1 to 42 tables
      \item 3 to 309 columns
      \item 0 to 134 constraints
      \item Includes each of the types of constraint supported by \SchemaAnalyst (\PK, \FK, \NOTNULL, \UNIQUE and \CHECK constraints)
    \end{itemize}
  \item 3 DBMSs -- \Postgres, \HyperSQL (in-memory), \SQLite (in-memory)
  \item 30 repeated trials
  \item 2 techniques -- \Original and \VirtualMutationAnalysis
  \item Metrics -- time taken for mutation analysis, number of mutants, number of test cases
  \item Mention that the mutation scores of the Original technique are used to validate the results given by virtual mutation analysis, and that in every case the results were identical. (Possibly repeat this in the threats section?)
\end{itemize}

\paper{Mutation2013}{To perform the experiments, we used the Java programming language to implement our approach in the SchemaAnalyst tool [3]. SchemaAnalyst was compiled with the JDK 7 compiler and executed with the Oracle Java 1.7 64-bit virtual machine for Linux. We executed the experiments on a \_\_\_\_\_\_ machine, \_\_\_\_\_\_ 64-bit kernel, with a \_\_\_\_\_\_ GHz CPU and \_\_\_\_\_\_ RAM. The specific DBMS versions were Postgres \_\_\_\_\_\_ and SQLite \_\_\_\_\_\_, used in \_\_\_\_\_\_ configurations.}\todo{Add version number for HyperSQL. Mention that SQLite and HyperSQL were `in-memory'.}

\subsubsection{Research questions}

\textbf{RQ1: }\emph{How does the time taken by Virtual mutation analysis compare to the Original technique, and how does
this vary depending on the DBMS in use?}\\

\textbf{RQ2: }\emph{Is the performance of Virtual mutation analysis dependant upon (a) the number of test cases being
executed, or (b) the number of mutants being analysed?}\\

\textbf{RQ3: }\emph{(RQ regarding number of mutants that can be analysed in the same time)}\\

\subsection{Threats to Validity}

\subsection{Empirical Results}

% GMK NOTE: For now, I am commenting out this table as it corresponds to the old results. Also, I am not sure that it is
% absolutely needed with all of the graphs that we have in the paper. Perhaps it will take up too much space and not be
% that useful? Finally, the font size of this table is too small.

% \begin{table*}[t]
%   \caption{\label{tbl:time_saved_by_dbms_table}
%     Time saving summary.
%   }\vspace{1em}
%   \scriptsize
%   \centering
%   \scalebox{\tablescalefactor}{
%     \begin{tabular}{|l|r|r|r|r|r|r|r|r|}
%       \hline
%       \multirow{2}{*}{DBMS} & Proportion & \multicolumn{3}{c|}{Time taken (ms)} & \multicolumn{3}{c|}{Time taken (\%)} & \multirow{2}{*}{Total (ms)} \\ \cline{3-8}
%                             & \multicolumn{1}{c|}{faster} & Mean & Max & Min & Mean & Max & Min & \\
%       \hline
%       HyperSQL & 1.00 & 12,499 & 358,707 & 1 & 0.69 & 0.97 & 0.23 & 399,968\\
%       \hline
%       Postgres & 1.00 & 872,356 & 24,932,544 & 1 & 0.99 & 1.00 & 0.87 & 27,915,395\\
%       \hline
%       SQLite & 0.84 & 20,174 & 614,607 & -30 & 0.40 & 1.00 & -0.50 & 645,575\\
%       \hline
%     \end{tabular}
%   }
% \end{table*}

% PURPOSE: Compare the virtual mutation technique to the original one in terms of their execution time, showing that
% virtual mutation is often significantly faster than the standard approach to mutation analysis.

\subsubsection{Original and Virtual Mutation}
\label{sec:empirical-study-RQ-original-virtual-time}
\input{sections/empirical-study-RQ-original-virtual-time}

% PURPOSE: Compare the virtual and time-constrained techniques in terms of their mutation score and the number of
% mutants that are actually executed during mutation analysis, showing the superiority of virtual mutation.

\subsubsection{Virtual and Time-Constrained Mutation}
\label{sec:empirical-study-RQ-virtual-time-constrained-virtual}
\input{sections/empirical-study-RQ-time-constrained-virtual}

