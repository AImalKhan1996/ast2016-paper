%!TEX root=../ast2016.tex

\section{Empirical Study}
\label{sec:empirical-study}

	\subsection{Experimental Setup}

		\input{tables/schemas.tex}

		\begin{itemize}
			\item 32 schemas
			\begin{itemize}
				\item 1 to 42 tables
				\item 3 to 309 columns
				\item 0 to 134 constraints
				\item Includes each of the types of constraint supported by \SchemaAnalyst (\PK, \FK, \NOTNULL, \UNIQUE and \CHECK constraints)
			\end{itemize}
			\item 3 DBMSs -- \Postgres, \HyperSQL (in-memory), \SQLite (in-memory)
			\item 30 repeated trials
			\item 2 techniques -- \Original and \VirtualMutationAnalysis
			\item Metrics -- time taken for mutation analysis, number of mutants, number of test cases
			\item Mention that the mutation scores of the Original technique are used to validate the results given by virtual mutation analysis, and that in every case the results were identical. (Possibly repeat this in the threats section?)
		\end{itemize}

		\paper{Mutation2013}{To perform the experiments, we used the Java programming language to implement our approach in the SchemaAnalyst tool [3]. SchemaAnalyst was compiled with the JDK 7 compiler and executed with the Oracle Java 1.7 64-bit virtual machine for Linux. We executed the experiments on a \_\_\_\_\_\_ machine, \_\_\_\_\_\_ 64-bit kernel, with a \_\_\_\_\_\_ GHz CPU and \_\_\_\_\_\_ RAM. The specific DBMS versions were Postgres \_\_\_\_\_\_ and SQLite \_\_\_\_\_\_, used in \_\_\_\_\_\_ configurations.}\todo{Add version number for HyperSQL. Mention that SQLite and HyperSQL were `in-memory'.}

	\subsection{Empirical Results}

		\subsubsection{Research questions}

			\textbf{RQ1: }\emph{How does the time taken by Virtual mutation analysis compare to the Original technique, and how does this vary depending on the DBMS in use?}\\


			\textbf{RQ2: }\emph{Is the performance of Virtual mutation analysis dependant upon the number of test cases being executed?}\\


			\textbf{RQ3: }\emph{What effect does the number of mutants have on the efficiency of Virtual mutation analysis?}\\


		\begin{table}[ht]
			\caption{\label{tbl:mean_time_mean_summary}
			The proportion of mean times taken for mutation analysis compared to Original technique, summarised as a mean across all schemas.
			}\vspace{1em}
			\scriptsize
			\centering
			\scalebox{\tablescalefactor}{
				\begin{tabular}{l|rrrrrr@{\hskip 0.5cm}r}
					& \multicolumn{7}{c}{Technique} \\
					DBMS & \rot{\Original} & \rot{\FullSchemata} & \rot{\UpFrontSchemata} & \rot{\JustInTimeSchemata} & \rot{\MinimalSchemata} & \rot{\MinimalPlusSchemata} & \rot{\VirtualMutationAnalysis} \\ 
					\hline
					HyperSQL & 1.000 & 1.151 & 0.627 & 0.808 & 0.689 & 0.644 & \cellcolor{LimeGreen!25}\textbf{\textcolor{OliveGreen}{0.319}} \\ 
					Postgres & 1.000 & 0.918 & 0.598 & 0.653 & 0.333 & 0.308 & \cellcolor{LimeGreen!25}\textbf{\textcolor{OliveGreen}{0.010}} \\ 
					SQLite & 1.000 & 1.542 & 1.313 & \cellcolor{LimeGreen!25}\textbf{\textcolor{OliveGreen}{0.556}} & 0.662 & 0.586 & 0.615 \\ 
					\hline
				\end{tabular}
			}
		\end{table}

	\subsection{Threats to Validity}
